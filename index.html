<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/3.4.5/aframe/build/aframe-ar-nft.js"></script>
    <script type='text/javascript'
        src='https://raw.githack.com/AR-js-org/AR.js/3.4.5/aframe/build/aframe-ar.js'></script>
    <script
        src="https://cdn.jsdelivr.net/gh/c-frame/aframe-particle-system-component@1.2.0/dist/aframe-particle-system-component.min.js"></script>

    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <link rel="stylesheet" href="./css/styles.css">
    <script src="./js/record.js"></script>
</head>

<body>

    <div style="position: fixed;left: 20%;right: 20%;text-align: center;z-index: 9999">
        <button id="start" contenteditable="false">Start Canvas Recording</button>
        <button id="stop" disabled contenteditable="false">Stop</button>
    </div>
    <script src="https://www.webrtc-experiment.com/screenshot.js"></script>
    <script src="https://www.webrtc-experiment.com/RecordRTC.js"></script>
    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>

    <a-scene vr-mode-ui="enabled: false;" renderer="logarithmicDepthBuffer: true; precision: medium;" embedded
        arjs="sourceWidth:1920; sourceHeight:1080; displayWidth: 1920; displayHeight: 1080; trackingMethod: best; sourceType: webcam;debugUIEnabled: false;">
        <!-- <a-recorder recorder="recording.webm"></a-recorder> -->
        <a-nft type="nft" url="./tracker/eva-air-thumb" smooth="true" smoothCount="10"
            smoothTolerance=".01" smoothThreshold="5">
            <!-- as a child of the a-nft entity, you can define the content to show. here's a GLTF model entity -->
            <a-entity gltf-model="<path-to-your-model>" scale="5 5 5" position="50 150 0">
            </a-entity>
            <a-entity position="0 2.25 -15"
                particle-system="preset: snow; randomise: true; particleCount: 2000; size: 4; dragValue: 1"></a-entity>
        </a-nft>
        <!-- static camera that moves according to the device movemenents -->
        <a-entity camera></a-entity>


        <!-- <a-camera position="0 5 8" fov="50" touchEnabled="false" wasd-controls-enabled="false"
            look-controls-enabled="false" touchEnabled="false"></a-camera> -->


    </a-scene>

    <!-- <button class="btn_primary" id="btnRecord">test</button> -->

    <script>

        AFRAME.registerComponent('vr-mode-ui-if-headset', {
            dependencies: ['vr-mode-ui'],
            init: function () {
                if (!AFRAME.utils.device.checkHeadsetConnected()) {
                    this.el.setAttribute('vr-mode-ui', 'enabled', false);
                }
            }
        })
    </script>

</body>

</html>
